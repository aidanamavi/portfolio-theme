jQuery(document).ready(function(){var B="page_archive_work";var y=window.location.protocol+"//"+window.location.host+"/wp-admin/admin-ajax.php";var q=jQuery("#content_wrapper :visible").attr("id");var x=document.referrer||document.location.href;var o=false;var r=false;var F=false;var E="all";var w=(typeof _paq==="undefined")?false:true;var e=window.history.state;function m(){if(!K){var L=document.location.href;var J=window.document.title;var G=jQuery("#"+q).data("viewType");var M=jQuery("#"+q).data("postType");var H=jQuery("#"+q).data("postId");var I={pageUrl:L,viewType:G,postType:M,postId:H};history.replaceState(I,J,L);var K=window.history.state}else{}}jQuery.prototype.imagesLoaded=function(){var H=this.find('img[src!=""]');if(!H.length){return $.Deferred().resolve().promise()}var G=[];H.each(function(){var I=$.Deferred();G.push(I);var J=new Image();J.onload=function(){I.resolve()};J.onerror=function(){I.resolve()};J.src=this.src});return $.when.apply($,G)};String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,function(G){return G.toUpperCase()})};function b(){q=jQuery("#content_wrapper :visible").attr("id");C=false}function v(){if(o){return}o=true;jQuery("#loading_animation").stop().show().animate({opacity:"1"},500,function(){jQuery("html").scrollTop(0)})}function n(){jQuery("#loading_animation").stop().animate({opacity:"0"},500,function(){o=false;b();i();jQuery("#loading_animation").hide()})}function a(){jQuery("div.highlight_slides").each(function(){var H=jQuery(this);var G=H.children().length;if(G>1){H.children().css("cursor","pointer")}})}function k(J,N,H){var M=jQuery("div#"+J+" .highlight_slides div[data-slide="+H+"]");var I=jQuery("div#"+J+" .highlight_slides div[data-slide="+N+"]");M.stop().css("z-index","10").stop().show().animate({opacity:"1"},250,function(){I.stop().animate({opacity:"0"},250,function(){I.hide();M.css("z-index","5");d(J,H);r=false})});var L=jQuery("#"+J+" .numbers_wrapper .numbers");var G=L.children("[data-slide="+H+"]").children("img.off");var K=L.children("[data-slide="+N+"]").children("img.off");K.stop().show().animate({opacity:"1"},300);G.stop().animate({opacity:"0"},300,function(){G.hide()})}function u(G){return !$.trim(G.html())}function j(K,G,M,H,L){if(L===undefined){L=true}if(o){return}var I=z(G,M,H);if(I===q){return}v();if(u(jQuery("#"+I))){jQuery.ajax({type:"POST",url:y,data:{action:"getAjaxData",viewType:G,postType:M,postId:H,token:window.nonce},success:function(N){s(I,K,N)},error:function(N){if(N.status===403){s("page_error_403",false,N.responseText)}else{n()}}})}else{s(I,K)}if(L){var J=jQuery("#"+I).data("pageTitle");p({pageUrl:K,viewType:G,postType:M,postId:H},J,K)}}function i(){postType=jQuery("#"+q).data("postType");if(postType==="work"||postType==="about"){var M=$(window).height();var H=70;var L=jQuery(".slide:visible img.highlight").height();var J=jQuery(".slide:visible .highlight_text").height();var K=jQuery(".slide:visible").height();var G=L+J;var I=H+G;jQuery("#"+q).css("height",I)}}$(window).on("scroll resize",i);function s(G,I,H){jQuery("#"+q).stop().animate({opacity:"0"},750,function(){jQuery("#"+q).hide(function(){if(H){jQuery("#content_wrapper").css("opacity","0");jQuery("#content_wrapper").append(H).imagesLoaded().then(function(){jQuery("#content_wrapper").animate({opacity:"1"},1000);n()});a()}else{jQuery("#"+G).show().animate({opacity:"1"},1000);n()}A(G);D(G);pageTitle=window.document.title;t(I,pageTitle)})})}function t(H,G){if(!w){return}H=H||document.location.href;G=G||window.document.title;_paq.push(["setCustomUrl",H]);_paq.push(["setDocumentTitle",G]);_paq.push(["setReferrerUrl",x]);_paq.push(["trackPageView"])}function d(G,H){if(!w){return}G=jQuery("#"+G).data("pageTitle");H="Slide "+H;_paq.push(["trackEvent","Slides",G,H])}function A(G){var I=jQuery("#"+G).data("postType");var H=jQuery("#"+G).data("categoryId");if(I==="category"){window.categoryName=I;window.categoryId=H}else{window.categoryName=I}}function D(G){var H=jQuery("#"+G).data("pageTitle");window.document.title=H}function c(H){var I=jQuery("#"+H).data("pageTitle");var G=jQuery("#"+H).data("viewType");var L=jQuery("#"+H).data("postType");var J=" â€º ";var K;if(G==="category"){K=siteTitle+J+L+J+G+J+I}else{if(G==="archive"){K=siteTitle+J+L+J+G}else{if(G==="single"){K=siteTitle+J+L+J+I}}}window.document.title=K.capitalize()}function p(G,H,I){pageStateConsole=JSON.stringify(G,null,4);x=document.location.href;history.pushState(G,H,I)}function z(G,J,I){var H="page";if(G&&J){H=H+"_"+G;if(G!=="category"){H=H+"_"+J}if(I){H=H+"_"+I}}return H}window.onload=function(){jQuery("html").animate({opacity:"1"},1,function(){jQuery("#content_wrapper").imagesLoaded().then(function(){jQuery("#content_wrapper").animate({opacity:"1"},750);n()})});m();postType=jQuery("#"+q).data("postType");jQuery("#navigation_wrapper a.underline[data-post-type="+postType+"]").addClass("on")};a();window.addEventListener("popstate",function(I){if(o){return}var K=window.history.state;I.preventDefault();I.stopPropagation();if(!K){}else{if(K){var J=K.pageUrl;var G=K.viewType;var M=K.postType;var H=K.postId;var L=false;j(J,G,M,H,L)}}});jQuery("nav img.off").hover(function(){jQuery(this).stop().animate({opacity:"0"},250)},function(){jQuery(this).stop().animate({opacity:"1"},250)});jQuery("nav a").focusin(function(){jQuery(this).children("img.off").stop().animate({opacity:"0"},250)});jQuery("nav a").focusout(function(){jQuery(this).children("img.off").stop().animate({opacity:"1"},250)});jQuery(document).on("click","a",function(J){function G(){J.preventDefault();J.stopPropagation()}function H(S){jQuery("a.underline.on[data-link-type="+S+"]").removeClass("on");Q.addClass("on")}var Q=jQuery(this);var I=Q.data("linkType");var L=Q.attr("href");H(I);if(I==="headerNavigation"){G();var N=Q.data("postType");var O=Q.data("viewType");j(L,O,N)}else{if(I==="workNavigation"){G();var P=Q.data("projectType");if(!F&&P!==E){F=true;animateIn=showcaseAnimationIn;animateOut=showcaseAnimationOut;if(!animateIn||!animateOut){animateIn="animate__fadeIn";animateOut="animate__fadeOut"}$("#page_archive_work .column").addClass("animate__animated "+animateOut);$("#page_archive_work .row").fadeOut(1000,function(){$("#page_archive_work .column").hide().removeClass("animate__animated "+animateOut);$('#page_archive_work .column[data-project-type~="'+P+'"]').show().addClass("animate__animated "+animateIn);$("#page_archive_work .row").fadeIn(1000,function(){$('#page_archive_work .column[data-project-type~="'+P+'"]').removeClass("animate__animated "+animateIn);E=P;F=false;P=P.capitalize();if(w){_paq.push(["trackEvent","Types","Work",P])}})})}}else{if(I==="postNavigation"){G();var O=Q.data("viewType");var N=Q.data("postType");var K=Q.data("postId");var M=Q.data("categoryId");var R=K||M;j(L,O,N,R)}}}});jQuery(document).on("click","#content_wrapper div .numbers_wrapper .numbers div",function(){var I=jQuery(this);var H=I.parent().parent().parent().attr("id");var G=I.data("slide");var J=jQuery("#"+H+" .highlight_slides > div:visible").data("slide");if(J!==G&&!r){r=true;k(H,J,G)}});jQuery(document).on("click","#content_wrapper div .highlight_slides div img.highlight",function(){var G=jQuery(this).parent();var J=G.parent().parent().attr("id");var L=G.data("slide");var I=G.parent().children().length;if(I>1&&!r){r=true;var K=G.next("div");var H;if(K.length===0){K=G.prevAll("div").last();H=K.data("slide")}else{H=K.data("slide")}k(J,L,H)}});var h,g,C,l,f;h=window.categoryId;jQuery(window).scroll(function(){l=jQuery(document).height()-jQuery(window).height();f=jQuery(window).scrollTop()+200;if(f>=l&&!C&&!o){if(jQuery("#page_category_"+h).is(":visible")){v();g=jQuery("#page_category_"+h+" > article").length;jQuery.ajax({type:"POST",url:y,data:{action:"getAjaxData",category:h,offset:g,token:window.nonce},success:function(G){if(G===""){C=true}else{jQuery("#page_category_"+h+":last-child").append(G)}},error:function(G){if(G.status===403){s("page_error_403",false,G.responseText)}},complete:function(){n()}})}else{if(jQuery("#page_blog").is(":visible")){v();g=jQuery("#page_blog > article").length;jQuery.ajax({type:"POST",url:y,data:{action:"getAjaxData",category:"",offset:g,token:window.nonce},success:function(G){if(G===""){C=true}else{jQuery("#page_blog:last-child").append(G)}},error:function(G){if(G.status===403){s("page_error_403",false,G.responseText)}},complete:function(){n()}})}}}})});